const a4_0x1bce=['output','VERBOSE_LOGGING','agentName','Completing\x20run\x20group\x20with\x20an\x20error','recordMetric','response','DistributedAgentApi','completeRunGroupWithError','note','/nx-cloud/executions/tasks','data','done','axiosMultipleTries','../../../utilities/metric-logger','completeRunGroup','Completed\x20run\x20group\x20with\x20an\x20error','mapRespToPerfEntry','../../../utilities/environment','/nx-cloud/executions/complete-run-group','RUNNER_FAILURE_PERF_ENTRY','runGroup:\x20','__esModule','value','runGroup','createMetricRecorder','error','axiosException','post','@nrwl/workspace/src/utilities/output','createApiAxiosInstance','throw','then','apiAxiosInstance'];(function(_0x3f7f55,_0x1bceeb){const _0x361712=function(_0x5700c3){while(--_0x5700c3){_0x3f7f55['push'](_0x3f7f55['shift']());}};_0x361712(++_0x1bceeb);}(a4_0x1bce,0x16e));const a4_0x3617=function(_0x3f7f55,_0x1bceeb){_0x3f7f55=_0x3f7f55-0x0;let _0x361712=a4_0x1bce[_0x3f7f55];return _0x361712;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0x352ce8,_0x236b0a,_0x120798,_0x344241){function _0x25d6dc(_0x31099e){return _0x31099e instanceof _0x120798?_0x31099e:new _0x120798(function(_0x228447){_0x228447(_0x31099e);});}return new(_0x120798||(_0x120798=Promise))(function(_0x1d9df3,_0x3358a3){function _0x5efebd(_0x4a787e){try{_0x160186(_0x344241['next'](_0x4a787e));}catch(_0x5520b5){_0x3358a3(_0x5520b5);}}function _0x486508(_0x240ebf){try{_0x160186(_0x344241[a4_0x3617('0x1b')](_0x240ebf));}catch(_0x104d4d){_0x3358a3(_0x104d4d);}}function _0x160186(_0x544655){_0x544655[a4_0x3617('0x8')]?_0x1d9df3(_0x544655[a4_0x3617('0x13')]):_0x25d6dc(_0x544655[a4_0x3617('0x13')])[a4_0x3617('0x1c')](_0x5efebd,_0x486508);}_0x160186((_0x344241=_0x344241['apply'](_0x352ce8,_0x236b0a||[]))['next']());});};Object['defineProperty'](exports,a4_0x3617('0x12'),{'value':!![]});exports[a4_0x3617('0x3')]=void 0x0;const output_1=require(a4_0x3617('0x19'));const axios_1=require('../../../utilities/axios');const environment_1=require(a4_0x3617('0xe'));const metric_logger_1=require(a4_0x3617('0xa'));class DistributedAgentApi{constructor(_0x31612e,_0xa24a08,_0x216282){this[a4_0x3617('0x14')]=_0xa24a08;this[a4_0x3617('0x20')]=_0x216282;this[a4_0x3617('0x1d')]=(0x0,axios_1[a4_0x3617('0x1a')])(_0x31612e);}['tasks'](_0x137acc,_0x44eed,_0x1a5534){var _0x3fcadc;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4e3a67=(0x0,metric_logger_1[a4_0x3617('0x15')])('dtePollTasks');try{const _0x1377cf=yield(0x0,axios_1[a4_0x3617('0x9')])(()=>this['apiAxiosInstance'][a4_0x3617('0x18')](a4_0x3617('0x6'),{'runGroup':this['runGroup'],'agentName':this['agentName'],'executionId':_0x137acc,'statusCode':_0x44eed,'completedTasks':_0x1a5534}));_0x4e3a67['recordMetric']((0x0,metric_logger_1[a4_0x3617('0xd')])(_0x1377cf));return _0x1377cf[a4_0x3617('0x7')];}catch(_0xa61bc2){_0x4e3a67[a4_0x3617('0x1')](((_0x3fcadc=_0xa61bc2===null||_0xa61bc2===void 0x0?void 0x0:_0xa61bc2['axiosException'])===null||_0x3fcadc===void 0x0?void 0x0:_0x3fcadc[a4_0x3617('0x2')])?(0x0,metric_logger_1[a4_0x3617('0xd')])(_0xa61bc2['axiosException'][a4_0x3617('0x2')]):metric_logger_1[a4_0x3617('0x10')]);throw _0xa61bc2;}});}[a4_0x3617('0x4')](_0x2b1cb6){var _0x54020d;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1['VERBOSE_LOGGING']){output_1['output'][a4_0x3617('0x5')]({'title':a4_0x3617('0x0'),'bodyLines':[a4_0x3617('0x11')+this[a4_0x3617('0x14')],'error:\x20'+_0x2b1cb6]});}const _0x4cddc6=(0x0,metric_logger_1[a4_0x3617('0x15')])(a4_0x3617('0xb'));try{const _0x266501=yield(0x0,axios_1['axiosMultipleTries'])(()=>this[a4_0x3617('0x1d')][a4_0x3617('0x18')](a4_0x3617('0xf'),{'runGroup':this[a4_0x3617('0x14')],'agentName':this[a4_0x3617('0x20')],'criticalErrorMessage':_0x2b1cb6}));if(environment_1[a4_0x3617('0x1f')]){output_1[a4_0x3617('0x1e')][a4_0x3617('0x5')]({'title':a4_0x3617('0xc')});}_0x4cddc6[a4_0x3617('0x1')]((0x0,metric_logger_1[a4_0x3617('0xd')])(_0x266501));}catch(_0x2b6fb0){_0x4cddc6[a4_0x3617('0x1')](((_0x54020d=_0x2b6fb0===null||_0x2b6fb0===void 0x0?void 0x0:_0x2b6fb0[a4_0x3617('0x17')])===null||_0x54020d===void 0x0?void 0x0:_0x54020d[a4_0x3617('0x2')])?(0x0,metric_logger_1['mapRespToPerfEntry'])(_0x2b6fb0[a4_0x3617('0x17')][a4_0x3617('0x2')]):metric_logger_1['RUNNER_FAILURE_PERF_ENTRY']);console[a4_0x3617('0x16')](_0x2b6fb0);}});}}exports[a4_0x3617('0x3')]=DistributedAgentApi;